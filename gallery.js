var y=e=>{throw TypeError(e)};var v=(e,t,s)=>t.has(e)||y("Cannot "+s);var n=(e,t,s)=>(v(e,t,"read from private field"),s?s.call(e):t.get(e)),u=(e,t,s)=>t.has(e)?y("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),f=(e,t,s,a)=>(v(e,t,"write to private field"),a?a.call(e,s):t.set(e,s),s);import"./assets/modulepreload-polyfill-B5Qt9EMX.js";/* empty css                      */import{a as P,P as q,i as l}from"./assets/vendor-CjWnjw31.js";const S="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='32'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20256'%3e%3cpath%20fill='%23F7DF1E'%20d='M0%200h256v256H0V0Z'%3e%3c/path%3e%3cpath%20d='m67.312%20213.932l19.59-11.856c3.78%206.701%207.218%2012.371%2015.465%2012.371c7.905%200%2012.89-3.092%2012.89-15.12v-81.798h24.057v82.138c0%2024.917-14.606%2036.259-35.916%2036.259c-19.245%200-30.416-9.967-36.087-21.996m85.07-2.576l19.588-11.341c5.157%208.421%2011.859%2014.607%2023.715%2014.607c9.969%200%2016.325-4.984%2016.325-11.858c0-8.248-6.53-11.17-17.528-15.98l-6.013-2.58c-17.357-7.387-28.87-16.667-28.87-36.257c0-18.044%2013.747-31.792%2035.228-31.792c15.294%200%2026.292%205.328%2034.196%2019.247l-18.732%2012.03c-4.125-7.389-8.591-10.31-15.465-10.31c-7.046%200-11.514%204.468-11.514%2010.31c0%207.217%204.468%2010.14%2014.778%2014.608l6.014%202.577c20.45%208.765%2031.963%2017.7%2031.963%2037.804c0%2021.654-17.012%2033.51-39.867%2033.51c-22.339%200-36.774-10.654-43.819-24.574'%3e%3c/path%3e%3c/svg%3e";var c,h,p;class _{constructor(){u(this,c,"https://api.unsplash.com/search/photos");u(this,h,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");u(this,p,"")}async getPopularPhotos(t){const s=new URLSearchParams({query:"popular",page:t,per_page:12,orientation:"portrait",client_id:n(this,h)}),{data:a}=await P(`${n(this,c)}?${s}`);return a}async getPhotos(t){const s=new URLSearchParams({query:n(this,p),page:t,per_page:12,orientation:"portrait",client_id:n(this,h)}),{data:a}=await P(`${n(this,c)}?${s}`);return a}set query(t){f(this,p,t)}}c=new WeakMap,h=new WeakMap,p=new WeakMap;const d=e=>e.map(t=>`
      <li class="gallery__item">
      <img class="gallery-img" src="${t.urls.small}" alt="${t.alt_description}">
      </li>
      `).join(""),g=document.querySelector(".gallery"),L=document.querySelector(".js-search-form"),i=document.querySelector(".loader"),m=document.getElementById("tui-pagination-container");L.addEventListener("submit",x);const o=new q(m,{totalItems:0,itemsPerPage:12,visiblePages:5,page:1}),M=o.getCurrentPage(),r=new _;r.getPopularPhotos(M).then(e=>{console.log(e),g.innerHTML=d(e.results),o.reset(e.total)}).catch(e=>l.show({title:"X",message:`${e}`||"Oooopps",position:"center",color:"red"})).finally(()=>{i.classList.add("visually-hidden")});o.on("afterMove",$);function $(e){const t=e.page;i.classList.remove("visually-hidden"),r.getPopularPhotos(t).then(s=>g.innerHTML=d(s.results)).catch(s=>l.show({title:"X",message:`${s}`||"Oooopps",position:"center",color:"red"})).finally(()=>i.classList.add("visually-hidden"))}function w(e){i.classList.remove("visually-hidden");const t=e.page;r.getPhotos(t).then(s=>g.innerHTML=d(s.results)).catch(s=>l.show({title:"X",message:`${s}`||"Oooopps",position:"center",color:"red"})).finally(()=>i.classList.add("visually-hidden"))}function x(e){e.preventDefault();const t=L.elements.query.value.trim();if(console.log(t),!t){l.warning({title:"Caution",message:"The field is empty, please type your request",position:"topRight",iconUrl:`${S}`});return}o.off("afterMove",$),o.off("afterMove",w),r.query=t,i.classList.remove("visually-hidden"),r.getPhotos(M).then(s=>{if(!s.results.length){l.show({title:"X",message:"Oooopps, there is no photo",position:"center",color:"red"});return}s.total<=12?m.classList.add("visually-hidden"):m.classList.remove("visually-hidden"),g.innerHTML=d(s.results),o.reset(s.total)}).catch(s=>l.show({title:"X",message:`${s}`||"Oooopps",position:"center",color:"red"})).finally(()=>{i.classList.add("visually-hidden"),e.target.reset()}),o.on("afterMove",w)}
//# sourceMappingURL=gallery.js.map
