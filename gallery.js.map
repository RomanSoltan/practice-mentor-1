{"version":3,"file":"gallery.js","sources":["../src/js/UnsplashAPI.js","../src/js/render-function.js","../src/js/gallery.js"],"sourcesContent":["import axios from \"axios\";\n\nexport default class UnsplashAPI {\n  #BASE_URL = 'https://api.unsplash.com/search/photos';\n  #API_KEY = 'gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58';\n\n  async getPopularPhotos(page) {\n    const params = new URLSearchParams({\n      query: \"popular\",\n      page,\n      per_page: 12,\n      orientation: \"portrait\",\n      client_id: this.#API_KEY,\n    });\n\n    const { data } = await axios(`${this.#BASE_URL}?${params}`);\n    return data;\n  }\n\n}\n","const renderImages = (images) => {\n  return images\n  .map(\n      image => `\n      <li class=\"gallery__item\">\n      <img class=\"gallery-img\" src=\"${image.urls.small}\" alt=\"${image.alt_description}\">\n      </li>\n      `\n  ).join(\"\")\n}\n\nexport default renderImages;\n\n// export default function renderImages(arr) {\n//   return arr\n//     .map(\n//       ({ urls: { small }, alt_description }) => `\n//       <li class=\"gallery__item\">\n//         <img class=\"gallery-img\" src=\"${small}\" alt=\"${alt_description}\" />\n//       </li>\n//   `\n//     )\n//     .join('');\n// }\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.min.css';\n\nimport UnsplashAPI from './UnsplashAPI';\nimport renderImages from './render-function';\n\nconst galleryEl = document.querySelector('.gallery');\nconst api = new UnsplashAPI();\nconst container = document.getElementById('tui-pagination-container');\nconst pagination = new Pagination(container, {\n  totalItems: 0,\n  itemsPerPage: 12,\n  visiblePages: 5,\n  page: 1,\n});\n\nconst page = pagination.getCurrentPage();\n\napi.getPopularPhotos(page).then(data => {\n  console.log(data);\n  galleryEl.innerHTML = renderImages(data.results);\n  // додамо до пагінації загальну кількісь фото\n  pagination.reset(data.total);\n});\n\n// повісимо слухача події на пагінацію\npagination.on('afterMove', event => {\n  // номер сторінки, який натиснули в пагінації\n  const currentPage = event.page;\n  // зробимо запит з номером сторінки, який натиснули в пагінації\n  api\n    .getPopularPhotos(currentPage)\n    .then(data => (galleryEl.innerHTML = renderImages(data.results)));\n});\n"],"names":["UnsplashAPI","__privateAdd","_BASE_URL","_API_KEY","page","params","__privateGet","data","axios","renderImages","images","image","galleryEl","api","container","pagination","Pagination","event","currentPage"],"mappings":"wZAEe,MAAMA,CAAY,CAAlB,cACbC,EAAA,KAAAC,EAAY,0CACZD,EAAA,KAAAE,EAAW,+CAEX,MAAM,iBAAiBC,EAAM,CAC3B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,MAAO,UACP,KAAAD,EACA,SAAU,GACV,YAAa,WACb,UAAWE,EAAA,KAAKH,EACtB,CAAK,EAEK,CAAE,KAAAI,CAAI,EAAK,MAAMC,EAAM,GAAGF,EAAA,KAAKJ,EAAS,IAAIG,CAAM,EAAE,EAC1D,OAAOE,CACR,CAEH,CAhBEL,EAAA,YACAC,EAAA,YCJF,MAAMM,EAAgBC,GACbA,EACN,IACGC,GAAS;AAAA;AAAA,sCAEuBA,EAAM,KAAK,KAAK,UAAUA,EAAM,eAAe;AAAA;AAAA,OAGrF,EAAI,KAAK,EAAE,ECFLC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAM,IAAIb,EACVc,EAAY,SAAS,eAAe,0BAA0B,EAC9DC,EAAa,IAAIC,EAAWF,EAAW,CAC3C,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,CACR,CAAC,EAEKV,EAAOW,EAAW,iBAExBF,EAAI,iBAAiBT,CAAI,EAAE,KAAKG,GAAQ,CACtC,QAAQ,IAAIA,CAAI,EAChBK,EAAU,UAAYH,EAAaF,EAAK,OAAO,EAE/CQ,EAAW,MAAMR,EAAK,KAAK,CAC7B,CAAC,EAGDQ,EAAW,GAAG,YAAaE,GAAS,CAElC,MAAMC,EAAcD,EAAM,KAE1BJ,EACG,iBAAiBK,CAAW,EAC5B,KAAKX,GAASK,EAAU,UAAYH,EAAaF,EAAK,OAAO,CAAE,CACpE,CAAC"}